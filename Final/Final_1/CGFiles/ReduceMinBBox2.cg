float4 main(float2 coords				: TEXCOORD0,
		   uniform samplerRECT inputTex	: TEXUNIT0,
		   uniform float2 offset					):COLOR
{
	float4 x1 = texRECT(inputTex, coords);
	float4 x2 = texRECT(inputTex, coords+offset);

	float4 output = x1;
	if ( (x2.x < x1.x && x2.x > 0) || (x2.x == x1.x && x2.y > x1.y) || x1.x < 0)
		output = x2;

	return output;
}
